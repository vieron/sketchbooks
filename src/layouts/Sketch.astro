---
import Layout from "./Layout.astro";

interface Props {
  title: string;
}

const { title } = Astro.props;
---

<Layout title={title}>
  <div class="relative flex h-screen w-screen">
    <div id="p5-sketch" class="h-full w-full flex"></div>
  </div>
  <slot />
  <style is:global>
    canvas {
      display: block;
    }
  </style>
  <script>
    import Sketch, { type UserSketch } from "../lib/sketch/Sketch";
    import type { ControlsDef } from "../lib/controls/types";

    declare global {
      interface Window {
        sketch: UserSketch;
        // our own sketch handlers
        onCanvasResize: () => void;
      }
    }

    new Sketch(window.sketch ?? (() => {}));
  </script>
</Layout>
