---
/// @ts-check
/// <reference path="../../node_modules/@types/p5/global.d.ts" />

import Layout from "./Layout.astro";

declare global {
  interface Window {
    // p5.js global handlers
    setup: () => void;
    draw: () => void;
    frameCount: number;

    // our own sketch handlers
    onCanvasResize: () => void;
  }
}

interface Props {
  title: string;
}

const { title } = Astro.props;
---

<Layout title={title}>
  <slot />
  <style is:global>
    canvas {
      display: block;
    }
  </style>
  <script>
    window.windowResized =
      window.windowResized ||
      (() => {
        resizeCanvas(windowWidth, windowHeight);
        window.frameCount = 0;
        window.onCanvasResize?.();
      });
  </script>
</Layout>
